// -------------------------------------------------------------
// 
// File Name: hdl_prj\hdlsrc\SGBMDisparity\SGBMHDLAl_ip_src_SGBMHDLAlgorithmWorker.v
// Created: 2021-04-19 19:46:15
// 
// Generated by MATLAB 9.10 and HDL Coder 3.18
// 
// -------------------------------------------------------------


// -------------------------------------------------------------
// 
// Module: SGBMHDLAl_ip_src_SGBMHDLAlgorithmWorker
// Source Path: SGBMDisparity/SGBMHDLAlgorithm/SGBMHDLAlgorithmWorker
// Hierarchy Level: 1
// 
// -------------------------------------------------------------

`timescale 1 ns / 1 ns

module SGBMHDLAl_ip_src_SGBMHDLAlgorithmWorker
          (clk,
           reset,
           enb,
           pixelLeft,
           pixelRight,
           ctrl_hStart,
           ctrl_vStart,
           ctrl_valid,
           pixelDisparity,
           ctrlDisparity_valid);


  input   clk;
  input   reset;
  input   enb;
  input   [7:0] pixelLeft;  // uint8
  input   [7:0] pixelRight;  // uint8
  input   ctrl_hStart;
  input   ctrl_vStart;
  input   ctrl_valid;
  output  signed [13:0] pixelDisparity;  // sfix14_En5
  output  ctrlDisparity_valid;


  wire [4:0] MatchingCost_out1_0;  // ufix5
  wire [4:0] MatchingCost_out1_1;  // ufix5
  wire [4:0] MatchingCost_out1_2;  // ufix5
  wire [4:0] MatchingCost_out1_3;  // ufix5
  wire [4:0] MatchingCost_out1_4;  // ufix5
  wire [4:0] MatchingCost_out1_5;  // ufix5
  wire [4:0] MatchingCost_out1_6;  // ufix5
  wire [4:0] MatchingCost_out1_7;  // ufix5
  wire [4:0] MatchingCost_out1_8;  // ufix5
  wire [4:0] MatchingCost_out1_9;  // ufix5
  wire [4:0] MatchingCost_out1_10;  // ufix5
  wire [4:0] MatchingCost_out1_11;  // ufix5
  wire [4:0] MatchingCost_out1_12;  // ufix5
  wire [4:0] MatchingCost_out1_13;  // ufix5
  wire [4:0] MatchingCost_out1_14;  // ufix5
  wire [4:0] MatchingCost_out1_15;  // ufix5
  wire MatchingCost_out2_vStart;
  wire MatchingCost_out2_valid;
  wire [4:0] MatchingCost_out3_0;  // ufix5
  wire [4:0] MatchingCost_out3_1;  // ufix5
  wire [4:0] MatchingCost_out3_2;  // ufix5
  wire [4:0] MatchingCost_out3_3;  // ufix5
  wire [4:0] MatchingCost_out3_4;  // ufix5
  wire [4:0] MatchingCost_out3_5;  // ufix5
  wire [4:0] MatchingCost_out3_6;  // ufix5
  wire [4:0] MatchingCost_out3_7;  // ufix5
  wire [4:0] MatchingCost_out3_8;  // ufix5
  wire [4:0] MatchingCost_out3_9;  // ufix5
  wire [4:0] MatchingCost_out3_10;  // ufix5
  wire [4:0] MatchingCost_out3_11;  // ufix5
  wire [4:0] MatchingCost_out3_12;  // ufix5
  wire [4:0] MatchingCost_out3_13;  // ufix5
  wire [4:0] MatchingCost_out3_14;  // ufix5
  wire [4:0] MatchingCost_out3_15;  // ufix5
  wire MatchingCost_out4_hStart;
  wire MatchingCost_out4_hEnd;
  wire MatchingCost_out4_vStart;
  wire MatchingCost_out4_vEnd;
  wire MatchingCost_out4_valid;
  wire signed [12:0] DirectionalCost_out1_0;  // sfix13
  wire signed [12:0] DirectionalCost_out1_1;  // sfix13
  wire signed [12:0] DirectionalCost_out1_2;  // sfix13
  wire signed [12:0] DirectionalCost_out1_3;  // sfix13
  wire signed [12:0] DirectionalCost_out1_4;  // sfix13
  wire signed [12:0] DirectionalCost_out1_5;  // sfix13
  wire signed [12:0] DirectionalCost_out1_6;  // sfix13
  wire signed [12:0] DirectionalCost_out1_7;  // sfix13
  wire signed [12:0] DirectionalCost_out1_8;  // sfix13
  wire signed [12:0] DirectionalCost_out1_9;  // sfix13
  wire signed [12:0] DirectionalCost_out1_10;  // sfix13
  wire signed [12:0] DirectionalCost_out1_11;  // sfix13
  wire signed [12:0] DirectionalCost_out1_12;  // sfix13
  wire signed [12:0] DirectionalCost_out1_13;  // sfix13
  wire signed [12:0] DirectionalCost_out1_14;  // sfix13
  wire signed [12:0] DirectionalCost_out1_15;  // sfix13
  wire DirectionalCost_out2;
  wire signed [13:0] PostProcessing_out1;  // sfix14_En5
  wire PostProcessing_out2_valid;


  SGBMHDLAl_ip_src_MatchingCost u_MatchingCost (.clk(clk),
                                                .reset(reset),
                                                .enb(enb),
                                                .pixelLeft(pixelLeft),  // uint8
                                                .pixelRight(pixelRight),  // uint8
                                                .busIn_hStart(ctrl_hStart),
                                                .busIn_vStart(ctrl_vStart),
                                                .busIn_valid(ctrl_valid),
                                                .hammDistA_0(MatchingCost_out1_0),  // ufix5
                                                .hammDistA_1(MatchingCost_out1_1),  // ufix5
                                                .hammDistA_2(MatchingCost_out1_2),  // ufix5
                                                .hammDistA_3(MatchingCost_out1_3),  // ufix5
                                                .hammDistA_4(MatchingCost_out1_4),  // ufix5
                                                .hammDistA_5(MatchingCost_out1_5),  // ufix5
                                                .hammDistA_6(MatchingCost_out1_6),  // ufix5
                                                .hammDistA_7(MatchingCost_out1_7),  // ufix5
                                                .hammDistA_8(MatchingCost_out1_8),  // ufix5
                                                .hammDistA_9(MatchingCost_out1_9),  // ufix5
                                                .hammDistA_10(MatchingCost_out1_10),  // ufix5
                                                .hammDistA_11(MatchingCost_out1_11),  // ufix5
                                                .hammDistA_12(MatchingCost_out1_12),  // ufix5
                                                .hammDistA_13(MatchingCost_out1_13),  // ufix5
                                                .hammDistA_14(MatchingCost_out1_14),  // ufix5
                                                .hammDistA_15(MatchingCost_out1_15),  // ufix5
                                                .hammDistValidA_vStart(MatchingCost_out2_vStart),
                                                .hammDistValidA_valid(MatchingCost_out2_valid),
                                                .hammDistRL_0(MatchingCost_out3_0),  // ufix5
                                                .hammDistRL_1(MatchingCost_out3_1),  // ufix5
                                                .hammDistRL_2(MatchingCost_out3_2),  // ufix5
                                                .hammDistRL_3(MatchingCost_out3_3),  // ufix5
                                                .hammDistRL_4(MatchingCost_out3_4),  // ufix5
                                                .hammDistRL_5(MatchingCost_out3_5),  // ufix5
                                                .hammDistRL_6(MatchingCost_out3_6),  // ufix5
                                                .hammDistRL_7(MatchingCost_out3_7),  // ufix5
                                                .hammDistRL_8(MatchingCost_out3_8),  // ufix5
                                                .hammDistRL_9(MatchingCost_out3_9),  // ufix5
                                                .hammDistRL_10(MatchingCost_out3_10),  // ufix5
                                                .hammDistRL_11(MatchingCost_out3_11),  // ufix5
                                                .hammDistRL_12(MatchingCost_out3_12),  // ufix5
                                                .hammDistRL_13(MatchingCost_out3_13),  // ufix5
                                                .hammDistRL_14(MatchingCost_out3_14),  // ufix5
                                                .hammDistRL_15(MatchingCost_out3_15),  // ufix5
                                                .hammDistValidRL_hStart(MatchingCost_out4_hStart),
                                                .hammDistValidRL_hEnd(MatchingCost_out4_hEnd),
                                                .hammDistValidRL_vStart(MatchingCost_out4_vStart),
                                                .hammDistValidRL_vEnd(MatchingCost_out4_vEnd),
                                                .hammDistValidRL_valid(MatchingCost_out4_valid)
                                                );

  SGBMHDLAl_ip_src_DirectionalCost u_DirectionalCost (.clk(clk),
                                                      .reset(reset),
                                                      .enb(enb),
                                                      .matchCostA_0(MatchingCost_out1_0),  // ufix5
                                                      .matchCostA_1(MatchingCost_out1_1),  // ufix5
                                                      .matchCostA_2(MatchingCost_out1_2),  // ufix5
                                                      .matchCostA_3(MatchingCost_out1_3),  // ufix5
                                                      .matchCostA_4(MatchingCost_out1_4),  // ufix5
                                                      .matchCostA_5(MatchingCost_out1_5),  // ufix5
                                                      .matchCostA_6(MatchingCost_out1_6),  // ufix5
                                                      .matchCostA_7(MatchingCost_out1_7),  // ufix5
                                                      .matchCostA_8(MatchingCost_out1_8),  // ufix5
                                                      .matchCostA_9(MatchingCost_out1_9),  // ufix5
                                                      .matchCostA_10(MatchingCost_out1_10),  // ufix5
                                                      .matchCostA_11(MatchingCost_out1_11),  // ufix5
                                                      .matchCostA_12(MatchingCost_out1_12),  // ufix5
                                                      .matchCostA_13(MatchingCost_out1_13),  // ufix5
                                                      .matchCostA_14(MatchingCost_out1_14),  // ufix5
                                                      .matchCostA_15(MatchingCost_out1_15),  // ufix5
                                                      .busA_vStart(MatchingCost_out2_vStart),
                                                      .busA_valid(MatchingCost_out2_valid),
                                                      .matchCostRL_0(MatchingCost_out3_0),  // ufix5
                                                      .matchCostRL_1(MatchingCost_out3_1),  // ufix5
                                                      .matchCostRL_2(MatchingCost_out3_2),  // ufix5
                                                      .matchCostRL_3(MatchingCost_out3_3),  // ufix5
                                                      .matchCostRL_4(MatchingCost_out3_4),  // ufix5
                                                      .matchCostRL_5(MatchingCost_out3_5),  // ufix5
                                                      .matchCostRL_6(MatchingCost_out3_6),  // ufix5
                                                      .matchCostRL_7(MatchingCost_out3_7),  // ufix5
                                                      .matchCostRL_8(MatchingCost_out3_8),  // ufix5
                                                      .matchCostRL_9(MatchingCost_out3_9),  // ufix5
                                                      .matchCostRL_10(MatchingCost_out3_10),  // ufix5
                                                      .matchCostRL_11(MatchingCost_out3_11),  // ufix5
                                                      .matchCostRL_12(MatchingCost_out3_12),  // ufix5
                                                      .matchCostRL_13(MatchingCost_out3_13),  // ufix5
                                                      .matchCostRL_14(MatchingCost_out3_14),  // ufix5
                                                      .matchCostRL_15(MatchingCost_out3_15),  // ufix5
                                                      .busRL_hStart(MatchingCost_out4_hStart),
                                                      .busRL_hEnd(MatchingCost_out4_hEnd),
                                                      .busRL_vStart(MatchingCost_out4_vStart),
                                                      .busRL_vEnd(MatchingCost_out4_vEnd),
                                                      .busRL_valid(MatchingCost_out4_valid),
                                                      .totalCostOut_0(DirectionalCost_out1_0),  // sfix13
                                                      .totalCostOut_1(DirectionalCost_out1_1),  // sfix13
                                                      .totalCostOut_2(DirectionalCost_out1_2),  // sfix13
                                                      .totalCostOut_3(DirectionalCost_out1_3),  // sfix13
                                                      .totalCostOut_4(DirectionalCost_out1_4),  // sfix13
                                                      .totalCostOut_5(DirectionalCost_out1_5),  // sfix13
                                                      .totalCostOut_6(DirectionalCost_out1_6),  // sfix13
                                                      .totalCostOut_7(DirectionalCost_out1_7),  // sfix13
                                                      .totalCostOut_8(DirectionalCost_out1_8),  // sfix13
                                                      .totalCostOut_9(DirectionalCost_out1_9),  // sfix13
                                                      .totalCostOut_10(DirectionalCost_out1_10),  // sfix13
                                                      .totalCostOut_11(DirectionalCost_out1_11),  // sfix13
                                                      .totalCostOut_12(DirectionalCost_out1_12),  // sfix13
                                                      .totalCostOut_13(DirectionalCost_out1_13),  // sfix13
                                                      .totalCostOut_14(DirectionalCost_out1_14),  // sfix13
                                                      .totalCostOut_15(DirectionalCost_out1_15),  // sfix13
                                                      .validOut(DirectionalCost_out2)
                                                      );

  SGBMHDLAl_ip_src_PostProcessing u_PostProcessing (.clk(clk),
                                                    .reset(reset),
                                                    .enb(enb),
                                                    .totalCostIn_0(DirectionalCost_out1_0),  // sfix13
                                                    .totalCostIn_1(DirectionalCost_out1_1),  // sfix13
                                                    .totalCostIn_2(DirectionalCost_out1_2),  // sfix13
                                                    .totalCostIn_3(DirectionalCost_out1_3),  // sfix13
                                                    .totalCostIn_4(DirectionalCost_out1_4),  // sfix13
                                                    .totalCostIn_5(DirectionalCost_out1_5),  // sfix13
                                                    .totalCostIn_6(DirectionalCost_out1_6),  // sfix13
                                                    .totalCostIn_7(DirectionalCost_out1_7),  // sfix13
                                                    .totalCostIn_8(DirectionalCost_out1_8),  // sfix13
                                                    .totalCostIn_9(DirectionalCost_out1_9),  // sfix13
                                                    .totalCostIn_10(DirectionalCost_out1_10),  // sfix13
                                                    .totalCostIn_11(DirectionalCost_out1_11),  // sfix13
                                                    .totalCostIn_12(DirectionalCost_out1_12),  // sfix13
                                                    .totalCostIn_13(DirectionalCost_out1_13),  // sfix13
                                                    .totalCostIn_14(DirectionalCost_out1_14),  // sfix13
                                                    .totalCostIn_15(DirectionalCost_out1_15),  // sfix13
                                                    .validIn(DirectionalCost_out2),
                                                    .disparityOut(PostProcessing_out1),  // sfix14_En5
                                                    .busOut_valid(PostProcessing_out2_valid)
                                                    );

  assign pixelDisparity = PostProcessing_out1;

  assign ctrlDisparity_valid = PostProcessing_out2_valid;

endmodule  // SGBMHDLAl_ip_src_SGBMHDLAlgorithmWorker

